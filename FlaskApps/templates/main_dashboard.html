<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8"/>
    <title>ÎÜçÏÇ∞Î¨º Î©îÏù∏ ÎåÄÏãúÎ≥¥Îìú</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
          font-family: 'Segoe UI', sans-serif;
          background: linear-gradient(135deg, #FFECB3 0%, #FFE0B2 100%);
          padding: 40px;
          margin: 0;
        }

        h1 {
          text-align: center;
          margin-bottom: 30px;
          color: #E65100;
          font-weight: bold;
          text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .summary-section, .bottom-section {
          display: grid;
          gap: 30px;
        }

        .summary-section {
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          margin-bottom: 40px;
        }

        .chart-wrapper {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 30px;
          margin-bottom: 40px;
        }

        .card {
          background: white;
          padding: 20px;
          border-radius: 16px;
          box-shadow: 0 10px 25px rgba(255, 143, 0, 0.15);
          border: 1px solid #FFE0B2;
        }

        .card h3 {
          margin-bottom: 10px;
          font-size: 16px;
          color: #E65100;
        }

        .styled-box {
          background: white;
          padding: 20px;
          border-radius: 16px;
          border: 1px solid #FFE0B2;
          box-shadow: 0 10px 20px rgba(255, 143, 0, 0.15);
          transition: transform 0.3s ease;
        }

        .styled-box:hover {
          transform: translateY(-3px);
        }

        .chart-title {
          font-size: 1.2em;
          font-weight: 700;
          margin-bottom: 20px;
          color: #E65100;
          border-bottom: 2px solid #FFCC80;
          padding-bottom: 10px;
        }

        .bottom-section {
          grid-template-columns: 2fr 1fr;
          margin-top: 40px;
        }

        .product-table table {
          width: 100%;
          border-collapse: collapse;
        }

        .product-table th {
          background-color: #FFF3E0;
          color: #E65100;
        }

        .product-table th, .product-table td {
          padding: 10px;
          border-bottom: 1px solid #FFE0B2;
          text-align: left;
          font-size: 14px;
          color: #5D4037;
        }

        ul {
          padding-left: 20px;
          font-size: 14px;
          color: #5D4037;
        }

        ul li {
          padding: 6px 0;
        }

        canvas {
          max-width: 100%;
          height: 300px !important;
        }
        .styled-box {
          background: linear-gradient(to bottom, #fffdf8, #fff7ed);
          padding: 25px;
          border-radius: 20px;
          border: 2px solid #FFCC80;
          box-shadow: 0 12px 30px rgba(255, 145, 0, 0.15);
          transition: transform 0.3s ease;
        }

        .styled-box:hover {
          transform: translateY(-5px);
          box-shadow: 0 18px 30px rgba(255, 145, 0, 0.25);
        }

        .chart-title {
          font-size: 1.3em;
          font-weight: bold;
          margin-bottom: 18px;
          color: #E65100;
          border-bottom: 3px solid #FFB74D;
          padding-bottom: 8px;
          text-align: center;
        }

        .product-table th {
          background-color: #FFE0B2;
          color: #E65100;
          font-weight: bold;
          font-size: 14px;
          border-bottom: 2px solid #FFCC80;
        }

        .product-table td {
          color: #5D4037;
          font-size: 13.5px;
          border-bottom: 1px solid #FFE0B2;
        }

        ul li {
          background-color: #FFF3E0;
          margin-bottom: 8px;
          padding: 10px;
          border-radius: 10px;
          color: #5D4037;
          box-shadow: inset 0 0 5px rgba(255, 167, 38, 0.1);
        }
    </style>
</head>
<body>
<h1>ÎÜçÏÇ∞Î¨º ÌÜµÌï© Í¥ÄÎ¶¨Ïûê ÎåÄÏãúÎ≥¥Îìú</h1>

<!-- üìà ÏÉÅÎã® ÏöîÏïΩ Ïπ¥ÎìúÎì§ (ÏïÑÎûòÎ°ú ÏúÑÏπò Î≥ÄÍ≤ΩÎê®) -->
<div class="summary-section">
    {% for card in cards %}
    <div class="card">
        <h3>{{ card.name }} Ï†ïÎ≥¥</h3>
        <p>üåæ ÏÉùÏÇ∞Îüâ: <strong>{{ card.production }}</strong></p>
        <p>üìà ÌèâÍ∑† Í∞ÄÍ≤©: <strong>{{ card.price }}</strong></p>
    </div>
    {% endfor %}
</div>

<!-- üìä Ï∞®Ìä∏ÏôÄ Íµ¨Îß§Ïûê Î∞ïÏä§ Î®ºÏ†Ä Î∞∞Ïπò -->
<div class="chart-wrapper">
    <div class="chart-area styled-box">
        <h3 class="chart-title">üìä Ïó∞ÎèÑÎ≥Ñ ÏÉùÏÇ∞Îüâ</h3>
        <canvas id="priceCompareChart"></canvas>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
            const ctx = document.getElementById('priceCompareChart').getContext('2d');

            const priceCompareChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: {{ years | tojson }},
                    datasets: [
                        {
                            label: 'ÏñëÌåå',
                            data: {{ onion | tojson }},
                            borderColor: '#FF7043',
                            backgroundColor: 'rgba(255,112,67,0.2)',
                            tension: 0.4
                        },
                        {
                            label: 'ÎßàÎäò',
                            data: {{ garlic | tojson }},
                            borderColor: '#FFA726',
                            backgroundColor: 'rgba(255,167,38,0.2)',
                            tension: 0.4
                        },
                        {
                            label: 'Îî∏Í∏∞',
                            data: {{ strawberry | tojson }},
                            borderColor: '#F06292',
                            backgroundColor: 'rgba(240,98,146,0.2)',
                            tension: 0.4
                        },
                        {
                            label: 'Î≥µÏà≠ÏïÑ',
                            data: {{ peach | tojson }},
                            borderColor: '#FB8C00',
                            backgroundColor: 'rgba(251,140,0,0.2)',
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'top' }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'Ïó∞ÌèâÍ∑† ÏÉùÏÇ∞Îüâ' }
                        },
                        x: {
                            title: { display: true, text: 'Ïó∞ÎèÑ' }
                        }
                    }
                }
            });
        </script>
    </div>
    <div class="chart-area styled-box">
        <h3 class="chart-title">üìä Ïó∞ÎèÑÎ≥Ñ Í∞ÄÍ≤© </h3>
        <canvas id="priceCompareChart2"></canvas>
        <script>
            const ctx2 = document.getElementById('priceCompareChart2').getContext('2d');

            new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: {{ price_years | tojson }},
                    datasets: [
                        {
                            label: 'ÏñëÌåå',
                            data: {{ price_onion | tojson }},
                            borderColor: '#FF7043',
                            backgroundColor: 'rgba(255,112,67,0.2)',
                            tension: 0.4
                        },
                        {
                            label: 'ÎßàÎäò',
                            data: {{ price_garlic | tojson }},
                            borderColor: '#FFA726',
                            backgroundColor: 'rgba(255,167,38,0.2)',
                            tension: 0.4
                        },
                        {
                            label: 'Îî∏Í∏∞',
                            data: {{ price_strawberry | tojson }},
                            borderColor: '#F06292',
                            backgroundColor: 'rgba(240,98,146,0.2)',
                            tension: 0.4
                        },
                        {
                            label: 'Î≥µÏà≠ÏïÑ',
                            data: {{ price_peach | tojson }},
                            borderColor: '#FB8C00',
                            backgroundColor: 'rgba(251,140,0,0.2)',
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { position: 'top' } },
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: { display: true, text: 'Ïó∞ÌèâÍ∑† Í∞ÄÍ≤© (Ïõê/kg)' }
                        },
                        x: {
                            title: { display: true, text: 'Ïó∞ÎèÑ' }
                        }
                    }
                }
            });
        </script>
    </div>
</div>

<!-- üèÜ ÏÉÅÌíà ÌÖåÏù¥Î∏îÍ≥º Ïã†Í∑ú Í≥†Í∞ù Î∞ïÏä§ -->
<div class="bottom-section">
    <div class="product-table styled-box">
        <h3 class="chart-title">üèÜ ÏÉÅÏúÑ ÌåêÎß§ ÏÉÅÌíà</h3>
        <table>
            <thead>
            <tr>
                <th>ÏÉÅÌíà</th>
                <th>Ï£ºÎ¨∏</th>
                <th>Í∞ÄÍ≤©</th>
                <th>Í¥ëÍ≥†ÎπÑ</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>ÏñëÌåå</td>
                <td>8000</td>
                <td>2300</td>
                <td>‚Ç©9,500</td>
            </tr>
            <tr>
                <td>ÎßàÎäò</td>
                <td>6000</td>
                <td>4200</td>
                <td>‚Ç©4,700</td>
            </tr>
            <tr>
                <td>Îî∏Í∏∞</td>
                <td>3000</td>
                <td>9900</td>
                <td>‚Ç©4,500</td>
            </tr>
            <tr>
                <td>Î≥µÏà≠ÏïÑ</td>
                <td>2000</td>
                <td>5800</td>
                <td>‚Ç©2,500</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="styled-box">
        <h3 class="chart-title">üÜï Ïã†Í∑ú Í≥†Í∞ù</h3>
        <ul>
            <li>Roselle Ehrman - üáßüá∑ Î∏åÎùºÏßà</li>
            <li>Jane Smith - üá¶üá∫ Ìò∏Ï£º</li>
            <li>Darron Handler - üáµüá∞ ÌååÌÇ§Ïä§ÌÉÑ</li>
            <li>Letidace Kulik - üá∑üá∫ Îü¨ÏãúÏïÑ</li>
        </ul>
    </div>
</div>
<!-- üìâ Îß® ÏïÑÎûò ÎÑìÏùÄ ÏÉùÏÇ∞Îüâ Í∑∏ÎûòÌîÑ -->
<div class="styled-box" style="margin-top: 50px;">
    <h3 class="chart-title">üìâ ÏõîÎ≥Ñ ÏÉùÏÇ∞Îüâ ÎπÑÍµê</h3>
    <canvas id="productionCompareChart" height="120"></canvas>
</div>

<script>
    const years = Array.from({ length: 2022 - 2004 + 1 }, (_, i) => `${2004 + i}ÎÖÑ`);

  const onionPrices = [2100, 2150, 2200, 2300, 2400, 2500, 2700, 2600, 2550, 2450, 2400, 2350, 2300, 2250, 2200, 2150, 2100, 2080, 2050];
  const garlicPrices = [3900, 4000, 4050, 4100, 4200, 4300, 4400, 4450, 4420, 4380, 4320, 4260, 4200, 4120, 4050, 3980, 3900, 3820, 3750];
  const strawberryPrices = [8800, 8900, 9000, 9100, 9200, 9300, 9400, 9500, 9600, 9700, 9800, 9900, 10000, 9900, 9800, 9700, 9600, 9500, 9400];
  const peachPrices = [4800, 4900, 5000, 5100, 5200, 5300, 5400, 5500, 5600, 5700, 5800, 5900, 6000, 5900, 5800, 5700, 5600, 5500, 5400];

  function createPriceChart(canvasId) {
    const ctx = document.getElementById(canvasId).getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: years,
        datasets: [
          {
            label: 'ÏñëÌåå',
            data: onionPrices,
            borderColor: '#FF7043',
            backgroundColor: 'rgba(255,112,67,0.2)',
            tension: 0.4
          },
          {
            label: 'ÎßàÎäò',
            data: garlicPrices,
            borderColor: '#FFA726',
            backgroundColor: 'rgba(255,167,38,0.2)',
            tension: 0.4
          },
          {
            label: 'Îî∏Í∏∞',
            data: strawberryPrices,
            borderColor: '#F06292',
            backgroundColor: 'rgba(240,98,146,0.2)',
            tension: 0.4
          },
          {
            label: 'Î≥µÏà≠ÏïÑ',
            data: peachPrices,
            borderColor: '#FB8C00',
            backgroundColor: 'rgba(251,140,0,0.2)',
            tension: 0.4
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'top' }
        },
        scales: {
          y: { beginAtZero: false },
          x: { title: { display: true, text: 'Ïó∞ÎèÑ' } }
        }
      }
    });
  }

  // Îëê Í∑∏ÎûòÌîÑ ÎèôÏùºÌïòÍ≤å ÏÉùÏÑ±
  createPriceChart('priceCompareChart');
  createPriceChart('priceCompareChart2');

    // Íµ¨Îß§Ïûê ÏÑ±Î≥Ñ Ï∞®Ìä∏
    const buyerCtx = document.getElementById('buyerChart').getContext('2d');
    new Chart(buyerCtx, {
      type: 'doughnut',
      data: {
        labels: ['ÎÇ®ÏÑ±', 'Ïó¨ÏÑ±', 'Í∏∞ÌÉÄ'],
        datasets: [{
          data: [50, 35, 15],
          backgroundColor: ['#FFB74D', '#FF8A65', '#FFD54F']
        }]
      },
      options: {
        responsive: true,
        plugins: { legend: { position: 'bottom' } }
      }
    });


    // üìâ ÏÉùÏÇ∞Îüâ ÎπÑÍµê Ï∞®Ìä∏
    const prodCtx = document.getElementById('productionCompareChart').getContext('2d');
    new Chart(prodCtx, {
      type: 'bar',
      data: {
        labels: ['1Ïõî', '2Ïõî', '3Ïõî', '4Ïõî', '5Ïõî', '6Ïõî'],
        datasets: [
          { label: 'ÏñëÌåå', data: [1200, 1350, 1500, 1400, 1600, 1750], backgroundColor: '#FF7043' },
          { label: 'ÎßàÎäò', data: [1800, 1700, 1750, 1850, 1900, 2000], backgroundColor: '#FFA726' },
          { label: 'Îî∏Í∏∞', data: [800, 850, 900, 950, 970, 1000], backgroundColor: '#F06292' },
          { label: 'Î≥µÏà≠ÏïÑ', data: [400, 420, 430, 460, 480, 500], backgroundColor: '#FB8C00' }
        ]
      },
      options: {
        responsive: true,
        plugins: { legend: { position: 'top' } },
        scales: {
          y: { beginAtZero: true, title: { display: true, text: 'ÏÉùÏÇ∞Îüâ (ÌÜ§)' } },
          x: { title: { display: true, text: 'Ïõî' } }
        }
      }
    });
</script>
</body>
</html>
